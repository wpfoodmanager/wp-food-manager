WPFMFoodSubmission=(WPFMFoodSubmission=function(){return{init:function(){WPFMCommon.logInfo("WPFMFoodSubmission.init..."),jQuery("body").on("click",".food-manager-remove-uploaded-file",function(){return jQuery(this).closest(".food-manager-uploaded-file").remove(),!1}),jQuery(".add-group-row").on("click",WPFMFoodSubmission.actions.addGroupField),jQuery(document).delegate(".remove-group-row","click",WPFMFoodSubmission.actions.removeGroupField),jQuery('input[data-picker="datepicker"]').length>0&&jQuery('input[data-picker="datepicker"]').datepicker({dateFormat:wp_food_manager_food_submission.i18n_datepicker_format})},actions:{addGroupField:function(e){var i=jQuery(this).closest(".field"),o=0;i.find("input.group-row").each(function(){parseInt(jQuery(this).val())>o&&(o=parseInt(jQuery(this).val()))});var t=jQuery(this).data("row").replace(/%%group-row-index%%/g,o+1);t=t.replace(/%group-row-index%/g,o+1),jQuery(this).before(t),i.find('select[multiple="multiple"]').length>0&&i.find('select[multiple="multiple"]').chosen(),e.preventDefault()},removeGroupField:function(e){jQuery("."+this.id).remove(),e.preventDefault()}}}})(),jQuery(document).ready(function(e){WPFMFoodSubmission.init()});