WPFMFoodSubmission=function(){return{init:function(){WPFMCommon.logInfo("WPFMFoodSubmission.init..."),jQuery("body").on("click",".event-manager-remove-uploaded-file",(function(){return jQuery(this).closest(".event-manager-uploaded-file").remove(),!1})),jQuery("#event_start_time").length>0&&jQuery("#event_start_time").timepicker({timeFormat:wp_food_manager_event_submission.i18n_timepicker_format,step:wp_food_manager_event_submission.i18n_timepicker_step}),jQuery("#event_end_time").length>0&&jQuery("#event_end_time").timepicker({timeFormat:wp_food_manager_event_submission.i18n_timepicker_format,step:wp_food_manager_event_submission.i18n_timepicker_step}),jQuery('input[data-picker="timepicker"]').length>0&&jQuery('input[data-picker="timepicker"]').timepicker({timeFormat:wp_food_manager_event_submission.i18n_timepicker_format,step:wp_food_manager_event_submission.i18n_timepicker_step}),jQuery('input[data-picker="datepicker"]#event_start_date').length>0&&(wp_food_manager_event_submission.start_of_week=parseInt(wp_food_manager_event_submission.start_of_week),wp_food_manager_event_submission.show_past_date?jQuery('input[data-picker="datepicker"]#event_start_date').datepicker({dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames}).on("change",(function(){jQuery("#event_end_date").datepicker("destroy"),jQuery('input[data-picker="datepicker"]#event_end_date').datepicker({minDate:jQuery("#event_start_date").val(),dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames})})):jQuery('input[data-picker="datepicker"]#event_start_date').datepicker({minDate:0,dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames}).on("change",(function(){jQuery("#event_end_date").datepicker("destroy"),jQuery('input[data-picker="datepicker"]#event_end_date').datepicker({minDate:jQuery("#event_start_date").val(),dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames})}))),jQuery('input[data-picker="datepicker"]#event_end_date').length>0&&jQuery('input[data-picker="datepicker"]#event_end_date').datepicker({dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames,beforeShow:function(input,inst){var mindate=jQuery('input[data-picker="datepicker"]#event_start_date').datepicker("getDate");jQuery(this).datepicker("option","minDate",mindate)}}).on("change",(function(){jQuery("#event_registration_deadline").datepicker("destroy"),wp_food_manager_event_submission.show_past_date?jQuery('input[data-picker="datepicker"]#event_registration_deadline').datepicker({maxDate:jQuery("#event_end_date").val(),dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames}):jQuery('input[data-picker="datepicker"]#event_registration_deadline').datepicker({minDate:0,maxDate:jQuery("#event_end_date").val(),dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames})})),jQuery('input[data-picker="datepicker"]#event_registration_deadline').length>0&&(wp_food_manager_event_submission.show_past_date?jQuery('input[data-picker="datepicker"]#event_registration_deadline').datepicker({maxDate:jQuery("#event_end_date").val(),dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames}):jQuery('input[data-picker="datepicker"]#event_registration_deadline').datepicker({minDate:0,maxDate:jQuery("#event_end_date").val(),dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames})),jQuery('input[data-picker="datepicker"]').length>0&&(wp_food_manager_event_submission.show_past_date?jQuery('input[data-picker="datepicker"]').datepicker({dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames}):jQuery('input[data-picker="datepicker"]').datepicker({minDate:0,dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week,monthNames:wp_food_manager_event_submission.monthNames})),jQuery("#event_online").length>0&&"yes"==jQuery("input[name=event_online]:checked").val()&&(jQuery(".fieldset-event_venue_name").length>0&&jQuery("input[name=event_venue_name]").length>0&&(jQuery("input[name=event_venue_name]").attr("required")&&jQuery("input[name=event_venue_name]").attr("required",!1),jQuery(".fieldset-event_venue_name").hide()),jQuery(".fieldset-event_address").length>0&&jQuery("input[name=event_address]").length>0&&(jQuery("input[name=event_address]").attr("required")&&jQuery("input[name=event_address]").attr("required",!1),jQuery(".fieldset-event_address").hide()),jQuery(".fieldset-event_pincode").length>0&&jQuery("input[name=event_pincode]").length>0&&(jQuery("input[name=event_pincode]").attr("required")&&jQuery("input[name=event_pincode]").attr("required",!1),jQuery(".fieldset-event_pincode").hide()),jQuery(".fieldset-event_location").length>0&&jQuery("input[name=event_location]").length>0&&(jQuery("input[name=event_location]").attr("required")&&jQuery("input[name=event_location]").attr("required",!1),jQuery(".fieldset-event_location").hide()),jQuery(".fieldset-event_venue_ids").length>0&&jQuery(".fieldset-event_venue_ids").hide()),jQuery("#event_ticket_options").length>0&&"free"==jQuery("#event_ticket_options:checked").val()&&(jQuery("input[name=event_ticket_price]").attr("required")&&jQuery("input[name=event_ticket_price]").attr("required",!1),jQuery(".fieldset-event_ticket_price").hide()),jQuery("input[name=event_online]").on("change",WPFMFoodSubmission.actions.onlineEvent),jQuery("input[name=event_ticket_options]").on("change",WPFMFoodSubmission.actions.eventTicketOptions),jQuery(".add-group-row").on("click",WPFMFoodSubmission.actions.addGroupField),jQuery(document).delegate(".remove-group-row","click",WPFMFoodSubmission.actions.removeGroupField)},actions:{addGroupField:function(event){var =jQuery(this).closest(".field"),max_index=0;.find("input.group-row").each((function(){parseInt(jQuery(this).val())>max_index&&(max_index=parseInt(jQuery(this).val()))}));var html=jQuery(this).data("row").replace(/%%group-row-index%%/g,max_index+1);html=html.replace(/%group-row-index%/g,max_index+1),jQuery(this).before(html),.find('input[data-picker="datepicker"]').length>0&&.find('input[data-picker="datepicker"]').datepicker({dateFormat:wp_food_manager_event_submission.i18n_datepicker_format,firstDay:wp_food_manager_event_submission.start_of_week}),.find('input[data-picker="timepicker"]').length>0&&.find('input[data-picker="timepicker"]').timepicker({timeFormat:wp_food_manager_event_submission.i18n_timepicker_format,step:wp_food_manager_event_submission.i18n_timepicker_step}),.find('select[multiple="multiple"]').length>0&&.find('select[multiple="multiple"]').chosen(),event.preventDefault()},removeGroupField:function(event){jQuery("."+this.id).remove(),event.preventDefault()},onlineEvent:function(event){event.preventDefault(),WPFMCommon.logInfo("EventDashboard.actions.onlineEvent..."),jQuery("#event_online").length>0&&("yes"==jQuery(this).val()?(jQuery(".fieldset-event_venue_name").length>0&&jQuery("input[name=event_venue_name]").length>0&&(jQuery("input[name=event_venue_name]").attr("required")&&jQuery("input[name=event_venue_name]").attr("required",!1),jQuery(".fieldset-event_venue_name").hide()),jQuery(".fieldset-event_address").length>0&&jQuery("input[name=event_address]").length>0&&(jQuery("input[name=event_address]").attr("required")&&jQuery("input[name=event_address]").attr("required",!1),jQuery(".fieldset-event_address").hide()),jQuery(".fieldset-event_pincode").length>0&&jQuery("input[name=event_pincode]").length>0&&(jQuery("input[name=event_pincode]").attr("required")&&jQuery("input[name=event_pincode]").attr("required",!1),jQuery(".fieldset-event_pincode").hide()),jQuery(".fieldset-event_location").length>0&&jQuery("input[name=event_location]").length>0&&(jQuery("input[name=event_location]").attr("required")&&jQuery("input[name=event_location]").attr("required",!1),jQuery(".fieldset-event_location").hide()),jQuery(".fieldset-event_venue_ids").length>0&&jQuery(".fieldset-event_venue_ids").hide()):(jQuery(".fieldset-event_venue_name").length>0&&jQuery("input[name=event_venue_name]").length>0&&(jQuery("input[name=event_venue_name]").attr("required")&&jQuery("input[name=event_venue_name]").attr("required",!0),jQuery(".fieldset-event_venue_name").show()),jQuery(".fieldset-event_address").length>0&&jQuery("input[name=event_address]").length>0&&(jQuery("input[name=event_address]").attr("required")&&jQuery("input[name=event_address]").attr("required",!0),jQuery(".fieldset-event_address").show()),jQuery(".fieldset-event_pincode").length>0&&jQuery("input[name=event_pincode]").length>0&&(jQuery("input[name=event_pincode]").attr("required")&&jQuery("input[name=event_pincode]").attr("required",!0),jQuery(".fieldset-event_pincode").show()),jQuery(".fieldset-event_location").length>0&&jQuery("input[name=event_location]").length>0&&(jQuery("input[name=event_location]").attr("required")&&jQuery("input[name=event_location]").attr("required",!0),jQuery(".fieldset-event_location").show()),jQuery(".fieldset-event_venue_ids").length>0&&jQuery(".fieldset-event_venue_ids").show()))},eventTicketOptions:function(event){event.preventDefault(),WPFMCommon.logInfo("EventDashboard.actions.eventTicketOptions..."),jQuery("#event_ticket_options").length>0&&("free"==jQuery(this).val()?jQuery(".fieldset-event_ticket_price").length>0&&jQuery("input[name=event_ticket_price]").length>0&&(jQuery("input[name=event_ticket_price]").attr("required")&&jQuery("input[name=event_ticket_price]").attr("required",!1),jQuery(".fieldset-event_ticket_price").hide()):(jQuery(".fieldset-event_ticket_price").length>0&&jQuery("input[name=event_ticket_price]").length>0&&jQuery("input[name=event_ticket_price]").attr("required")&&jQuery("input[name=event_ticket_price]").attr("required",!0),jQuery(".fieldset-event_ticket_price").show()))}}}},WPFMFoodSubmission=WPFMFoodSubmission(),jQuery(document).ready((function($){WPFMFoodSubmission.init()}));